<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="atlete-component.component.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <div class="main-container">
    <div class="content-right">
      <button class="add-athlete-btn" (click)="openAddModal()">➕ Aggiungi Atleta</button>

      <div *ngIf="showAddModal" class="form-container">
        <form (ngSubmit)="submitForm()" #form="ngForm">
          <input type="text" name="name" [(ngModel)]="atleta.name" placeholder="Nome" required>
          <input type="text" name="lastname" [(ngModel)]="atleta.lastname" placeholder="Cognome" required>
          <input type="number" name="age" [(ngModel)]="atleta.age" placeholder="Età" required>
          <input type="text" name="rule" [(ngModel)]="atleta.rule" placeholder="Ruolo" required>
          <input type="text" name="phone_number" [(ngModel)]="atleta.phone_number" placeholder="Telefono" required>
          <input type="number" name="year_subscribe" [(ngModel)]="atleta.year_subscribe" placeholder="Anno iscrizione" required>
          <button type="submit">Salva</button>
          <button type="button" (click)="showAddModal = false">Annulla</button>
        </form>
      </div>

      <div class="filter-box">
        <h3>Filtra Atlete</h3>
        <form (ngSubmit)="filterAtlete()" #filterForm="ngForm">
          <input type="number" name="age" [(ngModel)]="filter.age" placeholder="Età">
          <input type="text" name="rule" [(ngModel)]="filter.rule" placeholder="Ruolo">
          <button type="submit">Applica Filtro</button>
        </form>
      </div>

      <div class="card-container">
        <div *ngIf="filteredAtlete.length === 0" class="no-results">Nessuna atleta trovata.</div>

        <div class="athlete-card" *ngFor="let atleta of filteredAtlete">
          <h3>{{ atleta.name }} {{ atleta.lastname }}</h3>
          <p>Età: {{ atleta.age }}</p>
          <p>Ruolo: {{ atleta.rule }}</p>
          <p>Telefono: {{ atleta.phone_number }}</p>
          <p>Anno iscrizione: {{ atleta.year_subscribe }}</p>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
